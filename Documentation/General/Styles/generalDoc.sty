%
% $LastChangedRevision: 822 $
% 
% This file is part of X2C. http://www.mechatronic-simulation.org/
%
% Copyright (c) 2013, Linz Center of Mechatronics GmbH (LCM) http://www.lcm.at/
% All rights reserved.
%

% ---------- LANGUAGE / FONTENCODING --------
\usepackage[T1]{fontenc}
\usepackage[latin9]{inputenc}
\usepackage[scaled]{uarial}	% use a font similar to arial
\usepackage[american,ngerman]{babel}
% change language with \selectlanguage{american}
   
%\usepackage{ae,aecompl} % to get nice pdf output (with scalabele fonts)
%\usepackage[activate]{pdfcprot} % should work for better protrusion
%\usepackage{pslatex} % solves font mismatch problems (but also causes some!)
% ------------------------------------------

% --------------- PROGRAMMING --------------
\usepackage{ifthen}
\usepackage{fp} % fixed-point calculations
% ------------------------------------------

% ----------- PAPER SIZE / MARGINS --------
\usepackage{geometry}
\geometry{a4paper,bottom=1cm,top=1.2cm,includeheadfoot}

\usepackage{pdflscape}
% -----------------------------------------

% --------- CURRENCY/ SYMBOLS--------------
\usepackage{eurosym}
\usepackage{pifont}

% -----------------------------------------

% ---------- DEFINE CUSTOM COLORS ---------
\usepackage[table]{xcolor}
\definecolor{hrefcolor}{rgb}{0,0,0.7} % darkblue
\definecolor{listingcolor}{rgb}{0.95,0.95,0.95} % lightgray
\newcommand{\RGBrowcolor}{177,178,180} % rowcolor used in colortable
\definecolor{tablegray}{RGB}{177,178,180} % used in tables e.g. for datasheets
% -----------------------------------------

% ------------ GLOBAL FORMATTING ----------
\usepackage{sectsty}
\allsectionsfont{\sffamily\upshape} % (See the fntguide.pdf for font help)

\renewcommand{\familydefault}{\sfdefault}

\setlength{\parindent}{0em} % indentination of first line of a paragraph
% -----------------------------------------

% ----------------- CAPTIONS --------------
\usepackage{caption}
\captionsetup[table]{%
  singlelinecheck=false,%
  justification=raggedright%
}
\usepackage{sidecap} % to make captions next to the figure instead of below
% -----------------------------------------

% ---------- NOFLOAT  / FLOATS ------------
\newcommand{\setfloattype}[1]{\def\@captype{#1}}

%  non-floating table-, figure-, ... environment may contain \caption


\newenvironment{nofloat}[1]
  {\setfloattype{#1}
   \begin{trivlist}\item[]}
  {\end{trivlist}}

%   ----------------

\usepackage{float}
% \restylefloat{figure} % figure is somehow redefined by the float package, 
% H is possible for definite HERE placement (instead of h!)

% ------------------------------------------

% --------------- TABLES -------------------
% set tabular environment properties

\setlength{\tabcolsep}{1em} % half distance between to columns
\setlength{\arrayrulewidth}{1pt} % thickness of vertical and horizontal lines
\setlength{\doublerulesep}{1mm} % distance between double lines
\renewcommand{\arraystretch}{1.2} % multiplication factor for line distance

% \usepackage{booktabs} % for nicer tables, \toprule, \midrule usw.
% define package specific properties

\usepackage{array} % more functionality for tabular environment

\usepackage{longtable}

\usepackage{colortbl} % to generate colored tables, uses xcolor package!
% for table - rowcolor definition see DEFINE CUSTOM COLORS
% -----------------------------------------

% ----------- FIGURES / DRAWINGS ----------
\usepackage{graphicx}
\DeclareGraphicsExtensions{.png,.pdf,.eps,.jpg} 

\makeatletter
\def\Gin@getbase#1{%
\edef\Gin@tempa{%
\long\def\noexpand\@tempa####1#1\space{%
\def\noexpand\Gin@base{####1}}}%
\MyIfFileExists{\filename@area\filename@base#1}%
{\Gin@tempa
\expandafter\@tempa\@filef@und
\edef\Gin@ext{#1}%
}%
{}%
}%
%
\long\def\MyIfFileExists#1#2#3{%
\openin\@inputcheck"#1" %
\ifeof\@inputcheck
\ifx\input@path\@undefined
\def\reserved@a{#3}%
\else
\def\reserved@a{\My@iffileonpath{#1}{#2}{#3}}%
\fi
\else
\closein\@inputcheck
\edef\@filef@und{#1 }%
\def\reserved@a{#2}%
\fi
\reserved@a
}%
%
\long\def\My@iffileonpath#1{%
\let\reserved@a\@secondoftwo
\expandafter\@tfor\expandafter\reserved@b\expandafter
:\expandafter=\input@path\do{%
\openin\@inputcheck"\reserved@b#1" %
\ifeof\@inputcheck\else
\edef\@filef@und{\reserved@b#1 }%
\let\reserved@a\@firstoftwo%
\closein\@inputcheck
\@break@tfor
\fi}%
\reserved@a
}%
%
% end of patch
%
\makeatother


\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float

\usepackage{pgf}  % drawings in pdf
\usepackage{tikz} % to plot within latex (datasheets)
\usepackage{pgfplots} % to plot within latex (datasheets)
\pgfplotsset{width=0.8\textwidth, compat=1.3}

\usepackage{epstopdf} % to include eps figures
% ------------------------------------------

% -------- INCLUDE PDF's, MOVIES -----------
%\usepackage[3D]{movie15} % obsolete, superseded by media9
\usepackage{media9}
% ------------------------------------------

% ------------ LINKS in PDF ----------------
\usepackage{hyperref} % should be last package included

\hypersetup{colorlinks=true,%
 breaklinks=true,%
 linkcolor=hrefcolor,%
 menucolor=hrefcolor,%
 urlcolor=hrefcolor,%
 citecolor=hrefcolor}
% ------------------------------------------


% ---------- USERDEFINED LISTINGS ----------
\usepackage{listings}

\newcommand{\jlisting}{
  \lstset{language = Java,%
    numbers = left,%
    numbersep = -5pt,%
    numberstyle = \tiny,%
    numberblanklines = true,%
    frame = lines,%
    basicstyle = \small,%
    extendedchars = true,%
    backgroundcolor = \color{listingcolor}%
    }%
}

\newcommand{\mlisting}{
  \lstset{language = Matlab,%
    numbers = left,%
    numbersep = -5pt,%
    numberstyle = \tiny,%
    numberblanklines = true,%
    frame = lines,%
    basicstyle = \small,%
    extendedchars = true,%
    backgroundcolor = \color{listingcolor}%
    }%
}

\newcommand{\clisting}{
  \lstset{language = C,%
    numbers = none,%
    numbersep = -5pt,%
    numberstyle = \tiny,%
    numberblanklines = true,%
    frame = lines,%
    basicstyle = \small,%
    extendedchars = true,%
    backgroundcolor = \color{listingcolor}%
    }%
}
\newcommand{\verblisting}{ % not for general use, only for autogenerated things!
  \lstset{
    language={},
    backgroundcolor=\color{white},
    linewidth=\linewidth,          % line width
    breaklines=true,               % line break
    breakatwhitespace=true,        % line break at spaces
    breakindent = 0pt,
    numbers = none,
    frame = none%
  }
}
% ------------------------------------------    


% --------------- FORMULAS ------------------
\usepackage{amsmath}
% \abovedisplayskip and \belowdisplayskip are being changed in \normalsize,
% \small ... and must be appended to these commands
\makeatletter
\g@addto@macro\normalsize{%
\setlength{\belowdisplayshortskip}{20pt}
\setlength{\belowdisplayskip}{20pt}}
\makeatother

% ------------------------------------------

% --------------- BIBLIOGRAPHY -------------
\bibliographystyle{alphadin}
% ------------------------------------------

% ------------------ INDEX -----------------
\usepackage{makeidx}
\makeindex
% ------------------------------------------

% --------------- EDITORS HELP --------------
\usepackage{todonotes}
% -------------------------------------------

% ------------- HEADER - FOOTER ------------

\usepackage{fancyhdr}
\usepackage{lastpage}

% -------------------------------------------

% ------------ INPUTPATH -------------------
\newcommand{\InputPath}{.}
% ------------------------------------------

% --------------- TITLEPAGE ---------------
\usepackage{relsize}

\ifdefined \XcHomePath
	\newcommand{\generalPath}{ \XcHomePath/Documentation/General/Styles}
	\usepackage{\generalPath/X2C/specificX2C}
\fi

\ifdefined \XtoCDoku
\usepackage{\generalPath/X2C/X2CDokuStyle}
\fi

% --------- USERDEFINED FUNCTIONS ----------

% define struct item used for structure visualisation
\newlength{\itemIdent}
\settowidth{\itemIdent}{xxxx}
\ifdefined \usehtml
	\newcommand{\structitem}[3]{%
	\ifthenelse{\equal{#1}{0}}%
	{\textit{\moparam{#2}} \hfill \parbox[t]{6cm}{\textit{#3}}}
	{\hspace*{#1\itemIdent}\raisebox{.5ex}{\includegraphics{L.eps}} \moparam{#2} \hfill \parbox[t]{6cm}{\hspace*{-0.9ex}\textit{#3}}}\linebreak
	}
\else
	\newcommand{\structitem}[3]{%
	\ifthenelse{\equal{#1}{0}}%
	{\textit{\moparam{#2}} \hfill \parbox[t]{6cm}{\textit{#3}}}
	{\hspace*{#1\itemIdent}\raisebox{.5ex}{\tikz \draw (0pt,2.5ex) |- (1em,0pt);} \moparam{#2} \hfill \parbox[t]{6cm}{\hspace*{-0.7ex}\textit{#3}}}\linebreak
	}
\fi

% ------------------------------------------

% ---------- NOTE --------------------------
\usepackage{framed}

\usepackage{sectionbox}

\newenvironment{note}{%
  \shadowsectionbox
  \definecolor{sectboxrulecol}{rgb}{0,0,0}
  \definecolor{sectboxfillcol}{rgb}{0.9,0.9,0.9}
  \setlength{\colboxsep}{2ex}
  \bigskip
  \begin{sectionbox}{}
}
{
  \end{sectionbox}
  \bigskip
}


% ----------- internal NOTE ----------------
\usepackage{comment}
% \specialcomment used instead of \newenvironment

\specialcomment{internalNote}%
{
\definecolor{shadecolor}{rgb}{1,0.8,0.8}
\begin{snugshade}
}
{
\end{snugshade}
}